import "babel-polyfill";
import { getter } from "../client/js/async-get"

describe("Testing the getter functionality", () => {
    
    let url = 'http://localhost:5000/aylien';
    let final = [
        {
          "polarity": "negative",
          "subjectivity": "subjective",
          "text": "Mick Jagger was supposed to have a very different 2020, playing sold-out stadiums on the Rolling Stones’ No Filter tour. But he’s not letting the pandemic slow him down. Isolating at home in the European countryside, he’s been writing, recording, and working on documentary projects. “Can’t feel sorry for yourself,” he says. He’s also spent a lot of time looking back: The Stones just released a huge box set celebrating 1973’s Goats Head Soup, one of the band’s darkest and most misunderstood LPs. Jagger and Richards recently went deep into the making of the album; here is the extended QA with Jagger, where he talks about the future of live music, the next Stones album and more.\n\nWhat have you been up to during this time?\nI’ve been in Europe, in the country, and I’ve always had outdoor-space access. I’m feeling really sorry for some of my friends who don’t have as much, or can’t get out, or if they do get out, it’s a bit fraught. Every time I read the American newspapers, it looks just horrific.\n\n\t\n\n\nWhat do you think will come of all this?\nWe’re in the never-never land. I mean, all we can say is that looking, analyzing it, some places are better than others and are doing better, but you’ve got to look at it from a global perspective. It’s awful. And we can’t see into the future. But we can learn from other people’s mistakes, and we can learn from other people’s successes.\n\n\n\n\n\n\nWhat have you done with your days to occupy yourself?\nWell, I have been able to go out, so that’s been a great thing for me. The weather’s been lovely. It hasn’t been, like, the middle of November and rainy. That would be depressing.  It was a beautiful spring, and that was amazing — I’m normally not in my place long enough to watch the blossoms unfold. And then I did a few bits of work here and there. I finished off that “Ghost Town” track. Then I finished off these extras for Goats Head Soup, which I did at home. And I’ve been finishing off more tracks that we recorded before that we hadn’t finished. I’m doing some of that now. I’m writing some new songs and getting along with some documentary projects for different things. A few movie things I can get on with. You know, you try to keep yourself busy, because there’s quite a lot of downtime. But I still try to enjoy that as much as possible, like a lot of people.\n\nDoes this make you appreciate performing more?\nI mean, I love performing. I’ve been singing quite a lot, so I’m trying to keep that bit together, and I’ve been exercising quite a lot, so I’m keeping that bit together. Yeah, I miss performing. But I’m not in such a bad position. And I do have other jobs to do, so you can’t feel sorry for yourself. The larger point really is: how, in the short, medium and long term, is everyone that performs live, and in fact even in cinema and so on — how is it going to function in the future? How are are we going to function?\n\nWell, we don’t know how it’s going to function. In Europe, we’ve had small-scale concerts. We’ve had socially-distanced concerts. You can see [concerts] starting in some parts of the world, New Zealand, Australia, so on. But as far as the U.S. is concerned, we don’t really know what the future holds. So many people [are] out of work, losing money. Is it ever going to be the same again? Will it be always different? We just don’t know.\n\nWell, last summer was incredible. It’s going to be a big moment when you guys step back onstage again.\nWe might be playing to very few people. Even though we know we might be lucky enough to sell tickets, we might not be able to play to them all at once.\n\n\t\n\n\nWould you play a socially-distanced concert?\nYeah, I suppose if that was the way of the world, of course.\n\nWhere does Goats Head Soup fall in the Stones catalog in your mind?\nWell, you know, it’s not an album that’s as revered as Exile on Main Street, which preceded it, in most people’s minds — I suppose including me, though we do songs from it onstage. We do “Angie.” We do “Heartbreaker.” We sometimes do “Dancing with Mr D.” We’ve done that a couple of times. I should have the list in front of me. I should be better informed of my own work.\n\n“Silver Train,” “Winter.”\nYeah, we haven’t done “Winter” or stuff like that. There’s quite a few things we haven’t done. It’s not an album we do that many songs from. I mean, it’s a different kind of album. It was more or less done in one place, in a relatively short space of time, as opposed to Exile, which was very spread out time-wise. And so it is a different-sounding record. It’s got some good things.\n\nYou guys had made Exile, toured it, and you went straight back into the studio.\nYeah. I remember we wanted to go to L.A. to record, but we had some visa problems at the time, so we decided to record most of it in Jamaica. A couple of things, I think, were done in London. They said to me, “Well there’s unreleased tracks there.” And I remember thinking, “Oh no.” Unreleased tracks to me, that always means a lot of work. It’s like, “Things that you didn’t like and didn’t finish!” I’ve got a bit of a negative thing about them. But then you start  listening to them and going, “Well, actually, it’s not bad at all. I don’t know why we didn’t finish it.” We were just being lazy, you know. You finish them like you would if you recorded them last week. Finish the vocals, or redo bits of them. “Where are my maracas? Surely I must have my maracas around here….” Stuff like that.\n\nSo you went back into the studio and finished “Scarlet” and “All the Rage” and “Criss Cross“?\nYeah. Actually not as much work as some of the ones I’ve done on previous releases. “All the Rage” didn’t really have much vocals, so I had to write that, basically. And obviously do the vocals. But “Criss Cross” and “Scarlet,” I didn’t do any vocals for. I just did some stuff at the end [for] my fade-out vocal. “Scarlet” is a bit of an odd one, because it wasn’t really recorded for Goats Head Soup. It was just a song that we had knocking around. I remember doing it with a couple of other people, in addition to the version that was found.\n\n\t\n\n\nVIDEO\n\nHow did Jimmy Page wind up playing on “Scarlet”?\nI spoke to him the other day. I said, “I’m sure we did that at Olympic.” He said, “No, no I remember it really well. We did it in Ronnie Wood’s basement.” And I said, “Well, that’s weird, why isn’t Ronnie on it, then?” Ronnie’s not a shy guitarist or bass player or anything. He said, “No, we definitely did it in Ronnie Wood’s basement.” He remembered it really well. So that’s me, Keith, and Jimmy….\n\nWhat were your your days in Jamaica like? How was the process different from Exile, the mood and the overall feeling?\n[Laughs.] It’s hard to remember my mood from 1973. I can’t remember what my mood was at breakfast. I mean, it was a different situation, because we weren’t in a basement of a house. We were in a real studio, which was run by this guy called Byron Lee from a band called Byron Lee and the Dragonaires. They used to play reggae, they used to play everything. They played calypso. They toured through the Caribbean and he had this studio, which is very different from living in a house. It was a bit probably a bit more disciplined in that way. I mean, we worked really hard and did long hours and stayed up really late, but we had probably a bit more discipline than we did on Exile.\n\nAnd there we were with our Jamaican record, with not the slightest influence of reggae on any of the tracks. I think we consciously steered away from it: “We’re in Jamaica. We’re not going to make a Jamaican-influenced record.” We went all the way on that one.\n\nThere’s some interesting rhythms, though. It feels like the playing is a little more free.\nYeah, I mean, the rhythmic stuff, like the stuff on “Criss Cross,” that’s Billy Preston and Nicky [Hopkins]. The fashion at that time was playing the clavinet with the wah-wah stuff, and that gives it this certain push. It’s not Herbie Hancock exactly. [You can hear it] on “100 Years Ago” and then “Criss Cross,” which we just re-finished. But they’re a slightly different vibe, and “Heartbreaker” too.\n\nDo you remember writing “Heartbreaker“?\nYeah, vaguely. I don’t really remember it that clearly. I remember writing the lyrics, and I think Keith and I contributed to the music thing of it, the chord structure and stuff. That was about heavy-handed policing, and someone said to me the other day, “That’s funny. That reflects on now.” I said, “Well, when has policing not been heavy-handed?’ I mean, that was very much part of the moment.\n\n\n“‘Heartbreaker’ was about heavy-handed policing. Someone said to me the other day, ‘That’s funny. That reflects on now.’ I said, ‘Well, when has policing not been heavy-handed?'”\n\n\nMick Taylor’s playing is wonderful on “Winter,” which is a pretty beloved deep cut among your your fans.\nYeah, I like that song, it’s really nice. Mick and I just jammed on that, like, twice and that was it. And then we did the nice little subtle string arrangements through the end of it later. I always liked the way Mick picked out those pretty melodies around the tunes. He was very good at that sort of thing.\n\n\t\n\n\nHow do you look back on Billy Preston’s contributions?\nHe was very distinctive. As I said before, the stuff that he did with us in various ways  when he played the organ, it always gave it that gospel feel. And then of course, you have Nicky playing such pretty piano on “Angie,” which was very much a part of that song, the piano part. And the guitar part.\n\n\n\n\n\tThe Rolling Stones, 1973.\nAubrey Powell*\n\n\n\nBob Dylan said “Angie” was one of his favorite Rolling Stones songs.\nI’d love to hear Bob do that sometime. That’d be nice, wouldn’t it?\n\nDid you expect “Angie” to be a hit?\nYeah. I thought it sounded like a hit record to me at the time. I mean, you never know, but you get this feeling: “Well, if there’s gonna be a hit on this album, that’s going to be the one.” And it was very successful, and it’s still in our stage repertoire.\n\n“Silver Train” is another great deep cut. When you’re listening back to this record, do pictures come to your mind of things that happened in the studio? Does that happen, all this time later?\nYeah. I remember “Silver Train,” I think we recorded in London, and I remember Mick and I jamming on that. That was just a jam we managed to make into a song in the end. It started off as a jam rather than a song that was pre-written. And then, these tracks like “Hide Your Love,” which at the time I remember thinking, “Oh that was a throwaway song.” Then you find … my memory was doing it once in Olympic, which I probably did, with me playing piano on it. And I don’t even remember who plays piano on the record…..[pauses] This says piano on track seven, and there is no track seven. I’m just looking at it on Wiki. [Laughs.] My memory was completely wrong. We’d done a completely different version of it, which is, I think, on this extended album.\n\nDo you think of Goats Head as a particularly druggy album?\nDruggy? Was it a druggy album? It’s not got a lot of druggy subject material, apart from perhaps “Coming Down Again,” but you’ll have to talk to Keith about that. I mean, my guess is that could be a drug reference. [Laughs.] But the rest of it … there’s a drug reference in “Heartbreaker,” but I wouldn’t really characterize it as the most druggy Stones record.\n\nAt the time when it came out, you said you felt closer to this album, you liked it more than Exile.\nI say stupid things like that when I’m promoting albums. You gotta take that with a pinch of salt. “Course it’s better! This album, if you liked Exile, this is even better!” I can imagine myself saying that.\n\n\t\n\n\nIt’s thought of as the end of a certain era, I guess, because it was the last album you made with Jimmy Miller producing. And it’s one of your last albums with Mick Taylor. Did it feel like the end of a certain chapter at the time?\nNo, no. You just get on with it, day by day, you know? Our main concern at that point was, could we go to the U.S. and get visas. When we were in Jamaica, it was all a little bit weird. And then of course, we did, we went to L.A. It was just day-to-day life. We weren’t really taking that in until later on. I wasn’t thinking about anything like that.\n\nIs “Living in a Ghost Town” a precursor to a larger album you’re working on, or was it a one-off release?\nIt was part of a group of songs we’d already recorded various places quite recently. It just seemed to fit the times. I went back to my lyric book and looked at it. It was a song about being a ghost after a plague. Obviously I threw in a few more current lines and then re-did some of the vocals and I re-did bits of my guitar and stuff. Now, I’m singing on some of the other ones that we did from that time period, finishing those off, too.\n\nDo you have any idea when you guys might release another record?\nI don’t know. I guess it depends. I don’t know when we’re gonna get together at the moment. We don’t know when we’re going to get together and record. It’s got to be in safe circumstances and all that stuff. I’m sure we’ll get together soon, but I’ve got to finish off the stuff we’ve already done. So that gives me an opportunity now to get that out of the way. It sounds good. It’s pretty varied. A bit of all kinds of different kinds of music in there.\n\nThanks Mick. I hope to see you on the road next summer.\nHopefully! Thank you so much.",
          "polarity_confidence": 0.8666076064109802,
          "subjectivity_confidence": 1
        }
      ];
    
    test('the return an array to be displayed', () => {
        return expect(getter(url)).resolves.toContainEqual(final[0]);
    });
});

